<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <!-- 
        Autor: Jossian Brito
        Refactored Version: 19.0
    -->

    <title>TUGLORDS v19.0 - Start</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="src/css/styles.css">
</head>

<body>
    <!-- ========== TELA INICIAL - SELE√á√ÉO DE ORDEM ========== -->
    <div id="setupScreen" class="setup-screen">
        <div class="setup-container">
            <div class="setup-header">
                <h1>‚öì TUGLORDS</h1>
                <p>Quem come√ßa? Role os dados para decidir!</p>
            </div>

            <div id="playerSetupList" class="player-setup-list">
                <!-- Players ser√£o gerados aqui -->
            </div>

            <div class="setup-actions">
                <button class="btn-primary" onclick="addPlayer()">‚ûï Adicionar Jogador</button>
                <button class="btn-secondary" id="startOrderBtn" onclick="startOrderRolls()" disabled>
                    üé≤ Iniciar Sorteio
                </button>
            </div>

            <div id="orderResults" class="order-results" style="display: none;">
                <h3>üìã Ordem dos Jogadores</h3>
                <div id="orderList"></div>
                <button class="btn-primary" onclick="startGame()">
                    üö¢ Come√ßar Jogo!
                </button>
            </div>
        </div>
    </div>

    <!-- ========== TELA DO JOGO ========== -->
    <div id="gameScreen" class="game-screen" style="display: none;">
        <!-- Mobile Header -->
        <div class="mobile-header">
            <h1>‚öì TUGLORDS</h1>
            <div class="header-stats">
                <span id="currentPlayerName">Jogador 1</span>
                <span>|</span>
                <span id="currentRound">Rodada 1</span>
            </div>
        </div>

        <!-- Main Container -->
        <div class="game-container">

            <!-- Left Panel - Players -->
            <div class="sliding-panel panel-left" id="panelPlayers">
                <div class="panel-handle"></div>
                <div class="panel-header">
                    <h2 class="panel-title">üë• Jogadores</h2>
                    <button class="panel-close" onclick="closePanel('panelPlayers')">‚úï</button>
                </div>
                <div class="panel-content">
                    <div id="playersContainer">
                        <!-- Player cards ser√£o gerados dinamicamente -->
                    </div>
                </div>
            </div>

            <!-- Center - Game Board -->
            <div class="game-board-wrapper">
                <div class="board-container">
                    <!-- Visual Board - CENTRALIZADO -->
                    <div id="visualBoard" style="width: 100%; display: flex; justify-content: center;"></div>

                    <!-- Game Controls - COMPACTO -->
                    <div style="text-align: center; padding: 0.5rem; width: 100%; margin-top: 0;">
                        <h2 style="font-size: 1.25rem; font-weight: 900; margin-bottom: 0.5rem; text-align: center;">
                            üé≤ Turno de <span id="currentTurnPlayer">Jogador</span>
                        </h2>

                        <!-- Dice Display - CENTRALIZADO -->
                        <div id="diceDisplay"
                            style="font-size: 2.5rem; margin: 0.5rem 0; display: flex; justify-content: center; align-items: center; gap: 0.5rem;">
                            ‚öÄ ‚öÄ
                        </div>

                        <!-- Dice Button - CENTRALIZADO HORIZONTALMENTE -->
                        <div
                            style="margin-bottom: 0.75rem; display: flex; justify-content: center; align-items: center;">
                            <button id="rollDiceBtn" class="btn-primary" onclick="rollDice()"
                                style="font-size: 0.875rem; margin: 0 auto;">
                                üé≤ Jogar Dados
                            </button>
                        </div>

                        <!-- Current Position Info - REDUZIDO -->
                        <div id="positionInfo"
                            style="background: rgba(255,255,255,0.1); border-radius: 0.5rem; padding: 0.75rem; margin-bottom: 0.75rem;">
                            <p id="currentHouseName"
                                style="font-size: 1rem; color: var(--accent-gold); margin: 0; font-weight: 700;">
                                Casa Inicial
                            </p>
                        </div>

                        <!-- Contextual Actions (aparecem baseado na casa) - CENTRALIZADO -->
                        <div id="contextualActions" style="display: none; justify-content: center;">
                            <div
                                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 0.75rem; max-width: 400px;">
                                <!-- Bot√µes ser√£o adicionados dinamicamente -->
                            </div>
                        </div>

                        <!-- End Turn Button - CENTRALIZADO -->
                        <div style="margin-top: 0.5rem; display: flex; justify-content: center;">
                            <button id="endTurnBtn" class="btn-secondary" onclick="endTurn()"
                                style="max-width: 220px; font-size: 0.875rem;">
                                ‚û°Ô∏è Finalizar Turno
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Panel - Bank & Info -->
            <div class="sliding-panel panel-right" id="panelBank">
                <div class="panel-handle"></div>
                <div class="panel-header">
                    <h2 class="panel-title">üè¶ Terminal Banc√°rio</h2>
                    <button class="panel-close" onclick="closePanel('panelBank')">‚úï</button>
                </div>
                <div class="panel-content">
                    <div
                        style="background: rgba(255,255,255,0.05); border-radius: 0.75rem; padding: 1.5rem; margin-bottom: 1rem;">
                        <h3 style="font-size: 1.125rem; font-weight: 700; margin-bottom: 1rem;">üí≥ Empr√©stimos</h3>
                        <div style="display: grid; gap: 0.75rem;">
                            <button class="btn-secondary" style="justify-content: space-between;"
                                onclick="takeLoan(5000)">
                                <span>R$ 5.000</span>
                                <span style="font-size: 0.875rem; opacity: 0.7;">Juros: 10%</span>
                            </button>
                            <button class="btn-secondary" style="justify-content: space-between;"
                                onclick="takeLoan(10000)">
                                <span>R$ 10.000</span>
                                <span style="font-size: 0.875rem; opacity: 0.7;">Juros: 15%</span>
                            </button>
                            <button class="btn-secondary" style="justify-content: space-between;"
                                onclick="takeLoan(20000)">
                                <span>R$ 20.000</span>
                                <span style="font-size: 0.875rem; opacity: 0.7;">Juros: 20%</span>
                            </button>
                        </div>
                    </div>

                    <div
                        style="background: rgba(255,255,255,0.05); border-radius: 0.75rem; padding: 1.5rem; margin-bottom: 1rem;">
                        <h3 style="font-size: 1.125rem; font-weight: 700; margin-bottom: 1rem;">üìä Mercado de A√ß√µes</h3>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div
                                style="display: flex; justify-content: space-between; padding: 0.75rem; background: rgba(16, 185, 129, 0.1); border-radius: 0.5rem;">
                                <span>TUGLIFE</span>
                                <span style="color: #10b981;">+5.2%</span>
                            </div>
                            <div
                                style="display: flex; justify-content: space-between; padding: 0.75rem; background: rgba(239, 68, 68, 0.1); border-radius: 0.5rem;">
                                <span>OCEANIC</span>
                                <span style="color: #ef4444;">-2.8%</span>
                            </div>
                        </div>
                    </div>

                    <div style="background: rgba(255,255,255,0.05); border-radius: 0.75rem; padding: 1.5rem;">
                        <h3 style="font-size: 1.125rem; font-weight: 700; margin-bottom: 1rem;">üìú Regras R√°pidas</h3>
                        <ul
                            style="list-style: none; padding: 0; margin: 0; font-size: 0.875rem; line-height: 1.6; color: #94a3b8;">
                            <li style="margin-bottom: 0.5rem;">üéØ Objetivo: Dominar o mercado de rebocadores</li>
                            <li style="margin-bottom: 0.5rem;">üé≤ Role os dados para mover</li>
                            <li style="margin-bottom: 0.5rem;">‚öì Compre portos e rebocadores</li>
                            <li style="margin-bottom: 0.5rem;">üí∞ Gerencie suas finan√ßas</li>
                            <li>üèÜ Seja o primeiro a completar todos objetivos</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation - Mobile -->
        <nav class="bottom-nav">
            <button class="nav-btn active" onclick="openPanel('panelPlayers', this)">
                <span class="nav-btn-icon">üë•</span>
                <span>Jogadores</span>
            </button>
            <button class="nav-btn" onclick="toggleBoard(this)">
                <span class="nav-btn-icon">üé≤</span>
                <span>Tabuleiro</span>
            </button>
            <button class="nav-btn" onclick="openPanel('panelBank', this)">
                <span class="nav-btn-icon">üè¶</span>
                <span>Banco</span>
            </button>
            <button class="nav-btn" onclick="openPanel('panelMenu', this)">
                <span class="nav-btn-icon">‚öôÔ∏è</span>
                <span>Menu</span>
            </button>
        </nav>

        <!-- Overlay -->
        <div class="panel-overlay" id="panelOverlay" onclick="closeAllPanels()"></div>

        <!-- Menu Panel -->
        <div class="sliding-panel" id="panelMenu">
            <div class="panel-handle"></div>
            <div class="panel-header">
                <h2 class="panel-title">‚öôÔ∏è Menu</h2>
                <button class="panel-close" onclick="closePanel('panelMenu')">‚úï</button>
            </div>
            <div class="panel-content">
                <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                    <button class="btn-primary">üìñ Manual do Jogo</button>
                    <button class="btn-primary">üèÜ Vit√≥ria √âpica</button>
                    <button class="btn-secondary">‚öôÔ∏è Configura√ß√µes</button>
                    <button class="btn-secondary">üìä Estat√≠sticas</button>
                    <button class="btn-secondary">üíæ Salvar Jogo</button>
                    <button class="btn-secondary">üì§ Carregar Jogo</button>
                    <button class="btn-secondary" style="color: #ef4444;">üö™ Sair</button>
                </div>
            </div>
        </div>
    </div>

    <!-- MAIN APP SCRIPT -->
    <script type="module" src="src/js/main.js"></script>
</body>

</html>